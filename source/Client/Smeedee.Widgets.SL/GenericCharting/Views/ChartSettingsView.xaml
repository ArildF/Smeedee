<UserControl x:Class="Smeedee.Widgets.SL.GenericCharting.Views.ChartSettingsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:Controls="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    d:DesignHeight="550" d:DesignWidth="450">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Smeedee.Client.SL;Component/SettingsViewStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid x:Name="LayoutRoot" >
        <Border Style="{StaticResource SettingsViewBorder}">
            <Grid Style="{StaticResource SettingsViewGrid}" Height="450" Width="450">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                </Grid.RowDefinitions>

                <TextBlock Grid.ColumnSpan="2"
                    Style="{StaticResource SettingsViewH1}" 
                    Text="Configure Generic Charting" 
                    Margin="0,0,0,27" 
                    Grid.RowSpan="2" />

                <TextBlock 
                    Grid.Row="1" 
                    Grid.Column="0"
                    Style="{StaticResource SettingsViewText}"
                    Text="Chart name:" />

                <TextBox
                    Grid.Row="1"
                    Grid.Column="1"
                    Style="{StaticResource SettingsViewTextBox}"
                    Text ="{Binding ChartName}" />

                <TextBlock 
                    Grid.Row="2" 
                    Grid.Column="0"
                    Style="{StaticResource SettingsViewText}"
                    Text="X-axis name:" />

                <TextBox
                    Grid.Row="2"
                    Grid.Column="1"
                    Style="{StaticResource SettingsViewTextBox}"
                    Text ="{Binding XAxisName}" />

                <TextBlock 
                    Grid.Row="3" 
                    Grid.Column="0"
                    Style="{StaticResource SettingsViewText}"
                    Text="Y-axis name:" />

                <TextBox
                    Grid.Row="3"
                    Grid.Column="1"
                    Style="{StaticResource SettingsViewTextBox}"
                    Text ="{Binding YAxisName}" />

                <TextBlock 
                    Grid.Row="4" 
                    Grid.Column="0"
                    Style="{StaticResource SettingsViewText}"
                    Text="Type of chart:" />

                <ComboBox
                    Grid.Row="4"
                    Grid.Column="1"
                    Style="{StaticResource SettingsViewComboBox}"
                    Width="120" >
                    <!-- SelectedItem="{Binding ChartType}" -->
                    <ComboBoxItem>Pie</ComboBoxItem>
                    <ComboBoxItem>Line</ComboBoxItem>
                    <ComboBoxItem>Column</ComboBoxItem>
                    <ComboBoxItem>Area</ComboBoxItem>
                </ComboBox>

                <Controls:DataGrid 
                    AutoGenerateColumns="False" 
                    FontSize="14" 
                    Grid.Column="0"
                    Grid.Row="5" 
                    Grid.ColumnSpan="2"
                    Grid.RowSpan="5"
                    Width="450">
                    <Controls:DataGrid.Columns>
                        <Controls:DataGridTemplateColumn
                            Header="Database"
                            Width="140">
                            <Controls:DataGridTemplateColumn.CellEditingTemplate>
                                <DataTemplate>
                                    <ComboBox
                                        ItemTemplate="{StaticResource DatabaseItemTemplate}"
                                        ItemsSource="{Binding Databases}"
                                        SelectedItem="{Binding SelectedDatabase, Mode=TwoWay}"
                                        Width="140" />
                                </DataTemplate>
                            </Controls:DataGridTemplateColumn.CellEditingTemplate>
                        </Controls:DataGridTemplateColumn>
                        <Controls:DataGridTemplateColumn
                            Header="Collection"
                            Width="140">
                            <Controls:DataGridTemplateColumn.CellEditingTemplate>
                                <DataTemplate>
                                    <ComboBox  
										ItemTemplate="{StaticResource CollectionItemTemplate}" 
										ItemsSource="{Binding SelectedDatabase.Collections}"
										SelectedItem="{Binding SelectedCollection, Mode=TwoWay}"
										Width="140" />
                                </DataTemplate>
                            </Controls:DataGridTemplateColumn.CellEditingTemplate>
                        </Controls:DataGridTemplateColumn>
                        <Controls:DataGridTemplateColumn
                            Header="X-axis" >
                            <Controls:DataGridTemplateColumn.CellEditingTemplate>
                                <DataTemplate>
                                    <ComboBox  
										ItemsSource="{Binding AvailableProperties}"
										SelectedItem="{Binding SelectedPropertyForXAxis, Mode=TwoWay}" />
                                </DataTemplate>
                            </Controls:DataGridTemplateColumn.CellEditingTemplate>
                        </Controls:DataGridTemplateColumn>
                        <Controls:DataGridTemplateColumn
                            Header="Y-axis" >
                            <Controls:DataGridTemplateColumn.CellEditingTemplate>
                                <DataTemplate>
                                    <ComboBox  
										ItemsSource="{Binding AvailableProperties}"
										SelectedItem="{Binding SelectedPropertyForYAxis, Mode=TwoWay}" />
                                </DataTemplate>
                            </Controls:DataGridTemplateColumn.CellEditingTemplate>
                        </Controls:DataGridTemplateColumn>

                    </Controls:DataGrid.Columns>
                </Controls:DataGrid>



                <StackPanel
					Grid.Column="0" 
                    Grid.Row="10"
					Orientation="Horizontal">
                    <Button
						Style="{StaticResource SettingsViewButton}"
						Command="{Binding AddGraphSettings}" 
						Content="Add"
                        HorizontalAlignment="Right" />
                    <Button
						Style="{StaticResource SettingsViewButton}"
						Command="{Binding RemoveGraphSettings}" 
						Content="Remove" 
                        Margin="10,0,0,0" />
                </StackPanel>
                <StackPanel
					Grid.Row="11"
					Grid.Column="1"
					Style="{StaticResource SettingsViewControlButtonsWrapper}" >
                    <Button
                		Style="{StaticResource SettingsViewSaveButton}"
                    	Command="{Binding SaveSettings}" />
                    <Button 
                		Style="{StaticResource SettingsViewReloadSettingsButton}"
                     	Command="{Binding ReloadSettings}"  />
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>